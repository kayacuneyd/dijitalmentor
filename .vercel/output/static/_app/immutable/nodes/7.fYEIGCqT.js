import{s as Me,n as J,d,i as y,m as f,o as Ne,g as k,c,e as h,j as D,h as u,k as Be,A as Pe,p as K,a as w,b as s,f as b,t as g,q as qe,y as Ge}from"../chunks/C8FUPpYE.js";import{S as ze,i as Re}from"../chunks/BQlu6bJd.js";import{p as Oe}from"../chunks/DuMUUwAM.js";import{a as Le}from"../chunks/CpXfRMsN.js";import{a as Ue}from"../chunks/C9u0ZRVO.js";import{g as He}from"../chunks/F1DUsJPN.js";function Ye(o){let e,a,t,l,i,r,n=o[0].subject_name+"",_,V,v,ue,G=o[0].city+"",Q,fe,q,z=o[0].title+"",W,_e,I,L,R=o[0].budget_range+"",X,he,j,Ee="Saatlik B√ºt√ße",ve,C,T,we="Detaylar",pe,H,O=o[0].description+"",Z,me,E,S,M,U=(o[0].parent_name?o[0].parent_name.charAt(0):"V")+"",$,be,A,N,Y=o[0].parent_name+"",ee,ge,B,ye,F=new Date(o[0].created_at).toLocaleDateString("tr-TR")+"",te,xe;function Ve(p,m){return p[4].isAuthenticated?Qe:Ke}let ae=Ve(o),x=ae(o);return{c(){e=u("div"),a=u("div"),t=u("div"),l=u("div"),i=u("div"),r=u("span"),_=g(n),V=D(),v=u("span"),ue=g("üìç "),Q=g(G),fe=D(),q=u("h1"),W=g(z),_e=D(),I=u("div"),L=u("div"),X=g(R),he=D(),j=u("div"),j.textContent=Ee,ve=D(),C=u("div"),T=u("h3"),T.textContent=we,pe=D(),H=u("p"),Z=g(O),me=D(),E=u("div"),S=u("div"),M=u("div"),$=g(U),be=D(),A=u("div"),N=u("div"),ee=g(Y),ge=D(),B=u("div"),ye=g("ƒ∞lan Tarihi: "),te=g(F),xe=D(),x.c(),this.h()},l(p){e=c(p,"DIV",{class:!0});var m=h(e);a=c(m,"DIV",{class:!0});var P=h(a);t=c(P,"DIV",{class:!0});var le=h(t);l=c(le,"DIV",{});var re=h(l);i=c(re,"DIV",{class:!0});var se=h(i);r=c(se,"SPAN",{class:!0});var Ie=h(r);_=b(Ie,n),Ie.forEach(d),V=k(se),v=c(se,"SPAN",{class:!0});var ke=h(v);ue=b(ke,"üìç "),Q=b(ke,G),ke.forEach(d),se.forEach(d),fe=k(re),q=c(re,"H1",{class:!0});var Ce=h(q);W=b(Ce,z),Ce.forEach(d),re.forEach(d),_e=k(le),I=c(le,"DIV",{class:!0});var ie=h(I);L=c(ie,"DIV",{class:!0});var Se=h(L);X=b(Se,R),Se.forEach(d),he=k(ie),j=c(ie,"DIV",{class:!0,"data-svelte-h":!0}),K(j)!=="svelte-1oiuu7d"&&(j.textContent=Ee),ie.forEach(d),le.forEach(d),ve=k(P),C=c(P,"DIV",{class:!0});var ne=h(C);T=c(ne,"H3",{class:!0,"data-svelte-h":!0}),K(T)!=="svelte-wl2avu"&&(T.textContent=we),pe=k(ne),H=c(ne,"P",{class:!0});var je=h(H);Z=b(je,O),je.forEach(d),ne.forEach(d),me=k(P),E=c(P,"DIV",{class:!0});var oe=h(E);S=c(oe,"DIV",{class:!0});var de=h(S);M=c(de,"DIV",{class:!0});var Te=h(M);$=b(Te,U),Te.forEach(d),be=k(de),A=c(de,"DIV",{});var ce=h(A);N=c(ce,"DIV",{class:!0});var Ae=h(N);ee=b(Ae,Y),Ae.forEach(d),ge=k(ce),B=c(ce,"DIV",{class:!0});var De=h(B);ye=b(De,"ƒ∞lan Tarihi: "),te=b(De,F),De.forEach(d),ce.forEach(d),de.forEach(d),xe=k(oe),x.l(oe),oe.forEach(d),P.forEach(d),m.forEach(d),this.h()},h(){f(r,"class","bg-blue-100 text-blue-800 text-sm font-semibold px-3 py-1 rounded-full"),f(v,"class","text-gray-500 flex items-center gap-1"),f(i,"class","flex items-center gap-3 mb-2"),f(q,"class","text-3xl font-bold text-gray-900"),f(L,"class","text-2xl font-bold text-green-600"),f(j,"class","text-sm text-gray-500"),f(I,"class","text-right"),f(t,"class","flex flex-wrap gap-4 justify-between items-start mb-6"),f(T,"class","text-lg font-semibold text-gray-900 mb-2"),f(H,"class","whitespace-pre-line"),f(C,"class","prose max-w-none text-gray-700 mb-8"),f(M,"class","w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center text-gray-600 font-bold text-lg"),f(N,"class","font-semibold text-gray-900"),f(B,"class","text-sm text-gray-500"),f(S,"class","flex items-center gap-3"),f(E,"class","flex items-center justify-between pt-6 border-t border-gray-100"),f(a,"class","p-8"),f(e,"class","bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden")},m(p,m){y(p,e,m),s(e,a),s(a,t),s(t,l),s(l,i),s(i,r),s(r,_),s(i,V),s(i,v),s(v,ue),s(v,Q),s(l,fe),s(l,q),s(q,W),s(t,_e),s(t,I),s(I,L),s(L,X),s(I,he),s(I,j),s(a,ve),s(a,C),s(C,T),s(C,pe),s(C,H),s(H,Z),s(a,me),s(a,E),s(E,S),s(S,M),s(M,$),s(S,be),s(S,A),s(A,N),s(N,ee),s(A,ge),s(A,B),s(B,ye),s(B,te),s(E,xe),x.m(E,null)},p(p,m){m&1&&n!==(n=p[0].subject_name+"")&&w(_,n),m&1&&G!==(G=p[0].city+"")&&w(Q,G),m&1&&z!==(z=p[0].title+"")&&w(W,z),m&1&&R!==(R=p[0].budget_range+"")&&w(X,R),m&1&&O!==(O=p[0].description+"")&&w(Z,O),m&1&&U!==(U=(p[0].parent_name?p[0].parent_name.charAt(0):"V")+"")&&w($,U),m&1&&Y!==(Y=p[0].parent_name+"")&&w(ee,Y),m&1&&F!==(F=new Date(p[0].created_at).toLocaleDateString("tr-TR")+"")&&w(te,F),ae===(ae=Ve(p))&&x?x.p(p,m):(x.d(1),x=ae(p),x&&(x.c(),x.m(E,null)))},d(p){p&&d(e),x.d()}}}function Fe(o){let e,a;return{c(){e=u("div"),a=g(o[2]),this.h()},l(t){e=c(t,"DIV",{class:!0});var l=h(e);a=b(l,o[2]),l.forEach(d),this.h()},h(){f(e,"class","bg-red-50 text-red-700 p-4 rounded-lg")},m(t,l){y(t,e,l),s(e,a)},p(t,l){l&4&&w(a,t[2])},d(t){t&&d(e)}}}function Je(o){let e,a='<div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"></div>';return{c(){e=u("div"),e.innerHTML=a,this.h()},l(t){e=c(t,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-vq8ueh"&&(e.innerHTML=a),this.h()},h(){f(e,"class","flex justify-center py-12")},m(t,l){y(t,e,l)},p:J,d(t){t&&d(e)}}}function Ke(o){let e,a="Ba≈üvurmak i√ßin Giri≈ü Yap";return{c(){e=u("a"),e.textContent=a,this.h()},l(t){e=c(t,"A",{href:!0,class:!0,"data-svelte-h":!0}),K(e)!=="svelte-14asexc"&&(e.textContent=a),this.h()},h(){f(e,"href","/giris"),f(e,"class","bg-gray-100 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-200 transition")},m(t,l){y(t,e,l)},p:J,d(t){t&&d(e)}}}function Qe(o){let e;function a(i,r){return i[4].user.role==="student"?Xe:We}let t=a(o),l=t(o);return{c(){l.c(),e=qe()},l(i){l.l(i),e=qe()},m(i,r){l.m(i,r),y(i,e,r)},p(i,r){t===(t=a(i))&&l?l.p(i,r):(l.d(1),l=t(i),l&&(l.c(),l.m(e.parentNode,e)))},d(i){i&&d(e),l.d(i)}}}function We(o){let e,a="Sadece √∂ƒüretmenler ba≈üvurabilir";return{c(){e=u("div"),e.textContent=a,this.h()},l(t){e=c(t,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-mc1e9f"&&(e.textContent=a),this.h()},h(){f(e,"class","bg-gray-100 text-gray-600 px-6 py-3 rounded-lg font-semibold text-center")},m(t,l){y(t,e,l)},p:J,d(t){t&&d(e)}}}function Xe(o){let e,a,t;function l(n,_){return n[3]?$e:Ze}let i=l(o),r=i(o);return{c(){e=u("button"),r.c(),this.h()},l(n){e=c(n,"BUTTON",{class:!0});var _=h(e);r.l(_),_.forEach(d),this.h()},h(){e.disabled=o[3],f(e,"class","bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition shadow-lg shadow-blue-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2")},m(n,_){y(n,e,_),r.m(e,null),a||(t=Ge(e,"click",o[5]),a=!0)},p(n,_){i!==(i=l(n))&&(r.d(1),r=i(n),r&&(r.c(),r.m(e,null))),_&8&&(e.disabled=n[3])},d(n){n&&d(e),r.d(),a=!1,t()}}}function Ze(o){let e;return{c(){e=g("‚úâÔ∏è ƒ∞leti≈üime Ge√ß")},l(a){e=b(a,"‚úâÔ∏è ƒ∞leti≈üime Ge√ß")},m(a,t){y(a,e,t)},d(a){a&&d(e)}}}function $e(o){let e,a;return{c(){e=u("div"),a=g(`
                  ƒ∞leti≈üim Ba≈ülatƒ±lƒ±yor...`),this.h()},l(t){e=c(t,"DIV",{class:!0}),h(e).forEach(d),a=b(t,`
                  ƒ∞leti≈üim Ba≈ülatƒ±lƒ±yor...`),this.h()},h(){f(e,"class","animate-spin rounded-full h-4 w-4 border-b-2 border-white")},m(t,l){y(t,e,l),y(t,a,l)},d(t){t&&(d(e),d(a))}}}function et(o){let e,a,t;document.title=e=(o[0]?o[0].title:"Talep Detayƒ±")+" - Bezmidar";function l(n,_){if(n[1])return Je;if(n[2])return Fe;if(n[0])return Ye}let i=l(o),r=i&&i(o);return{c(){a=D(),t=u("div"),r&&r.c(),this.h()},l(n){Ne("svelte-tr2jqv",document.head).forEach(d),a=k(n),t=c(n,"DIV",{class:!0});var V=h(t);r&&r.l(V),V.forEach(d),this.h()},h(){f(t,"class","container mx-auto px-4 py-8 max-w-3xl")},m(n,_){y(n,a,_),y(n,t,_),r&&r.m(t,null)},p(n,[_]){_&1&&e!==(e=(n[0]?n[0].title:"Talep Detayƒ±")+" - Bezmidar")&&(document.title=e),i===(i=l(n))&&r?r.p(n,_):(r&&r.d(1),r=i&&i(n),r&&(r.c(),r.m(t,null)))},i:J,o:J,d(n){n&&(d(a),d(t)),r&&r.d()}}}function tt(o,e,a){let t,l;Be(o,Ue,v=>a(4,t=v)),Be(o,Oe,v=>a(6,l=v));let i=null,r=!0,n="",_=!1;Pe(async()=>{try{const v=await Le.get(`/requests/detail.php?id=${l.params.id}`);a(0,i=v.data)}catch(v){a(2,n=v.message)}finally{a(1,r=!1)}});async function V(){if(!t.isAuthenticated){He("/giris");return}if(t.user.role!=="student"){alert("Sadece √∂ƒüretmenler ders taleplerine ba≈üvurabilir.");return}a(3,_=!0);try{const v=await Le.post("/messages/start.php",{other_user_id:i.parent_id});v.success&&He(`/panel/mesajlar?conversation_id=${v.data.conversation_id}`)}catch(v){console.error("Conversation start error:",v),alert("Mesajla≈üma ba≈ülatƒ±lamadƒ±. L√ºtfen tekrar deneyin.")}finally{a(3,_=!1)}}return[i,r,n,_,t,V]}class ot extends ze{constructor(e){super(),Re(this,e,tt,et,Me,{})}}export{ot as component};
