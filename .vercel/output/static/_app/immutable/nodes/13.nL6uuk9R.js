import{f as L,a as S}from"../chunks/DRQhfDIo.js";import"../chunks/DBxwTJFr.js";import{p as J,t as Z,g as r,a as Q,e as U,s as a,h as l,m as $,c as o,$ as W,r as s,n as X,b as m}from"../chunks/xs6IHYAp.js";import{s as A}from"../chunks/2kSiabv9.js";import{i as ee}from"../chunks/DR5YvfYR.js";import{h as re}from"../chunks/Dca_OwJL.js";import{r as n}from"../chunks/0sRNiewY.js";import{s as B}from"../chunks/BjvWVg2m.js";import{e as k}from"../chunks/BUEFyR2Q.js";import{b as u}from"../chunks/C5zhuI-4.js";import{p as te}from"../chunks/CWmzcjye.js";import{i as ae}from"../chunks/CtUxkv_u.js";import{a as oe,s as se}from"../chunks/BqzXtDWn.js";import{a as le}from"../chunks/DOijXAo_.js";import{a as ie}from"../chunks/DuIwGUvj.js";import{g as G}from"../chunks/AYnVVvoY.js";import{p as ne}from"../chunks/Cl66-DY3.js";import{t as H}from"../chunks/CagCIhxo.js";var ue=L('<div class="bg-red-50 text-red-700 p-4 rounded-lg mb-6"> </div>'),de=L('<div class="container mx-auto px-4 py-12 max-w-md"><h1 class="text-3xl font-bold mb-8 text-center">Kayıt Ol</h1> <div class="flex justify-center gap-4 mb-8"><button>Veli / Öğrenci</button> <button>Öğretmen</button></div> <!> <form class="space-y-4"><div><label class="block text-sm font-medium mb-1" for="register-full-name">Ad Soyad</label> <input id="register-full-name" type="text" class="w-full border rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent" required/></div> <div><label class="block text-sm font-medium mb-1" for="register-phone">Telefon Numarası</label> <input id="register-phone" type="tel" placeholder="+49..." class="w-full border rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent" required/></div> <div><label class="block text-sm font-medium mb-1" for="register-city">Şehir</label> <input id="register-city" type="text" class="w-full border rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent" required placeholder="Örn: Berlin"/></div> <div><label class="block text-sm font-medium mb-1" for="register-zip">Posta Kodu (PLZ)</label> <input id="register-zip" type="text" class="w-full border rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent" required placeholder="Örn: 10115"/></div> <div><label class="block text-sm font-medium mb-1" for="register-password">Şifre</label> <input id="register-password" type="password" class="w-full border rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent" required minlength="6"/></div> <button type="submit" class="w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50 transition"> </button></form> <p class="text-center mt-6 text-gray-600">Zaten hesabınız var mı? <a href="/giris" class="text-blue-600 hover:underline">Giriş Yap</a></p></div>');function De(M,N){J(N,!1);const R=()=>oe(ne,"$page",T),[T,V]=se();let Y=R().url.searchParams.get("role")||"parent",e=$({full_name:"",phone:"",password:"",role:Y,city:"",zip_code:""}),d=$(""),p=$(!1);async function C(){m(p,!0),m(d,"");try{const t=await le.post("/auth/register.php",r(e));ie.login(t.data.user,t.data.token),H.success("Kayıt başarıyla oluşturuldu! Hoşgeldiniz."),r(e).role==="student"?G("/panel/ayarlar"):G("/panel")}catch(t){const i=t.message||"Kayıt başarısız";m(d,i),H.error(i)}finally{m(p,!1)}}ae();var f=de();re("16sjqdd",t=>{U(()=>{W.title="Kayıt Ol - DijitalMentor"})});var c=a(o(f),2),b=o(c),z=a(b,2);s(c);var K=a(c,2);{var E=t=>{var i=ue(),I=o(i,!0);s(i),Z(()=>A(I,r(d))),S(t,i)};ee(K,t=>{r(d)&&t(E)})}var g=a(K,2),v=o(g),q=a(o(v),2);n(q),s(v);var y=a(v,2),j=a(o(y),2);n(j),s(y);var x=a(y,2),D=a(o(x),2);n(D),s(x);var _=a(x,2),O=a(o(_),2);n(O),s(_);var h=a(_,2),P=a(o(h),2);n(P),s(h);var w=a(h,2),F=o(w,!0);s(w),s(g),X(2),s(f),Z(()=>{B(b,1,`px-4 py-2 rounded-full ${r(e).role==="parent"?"bg-blue-100 text-blue-700 font-semibold":"text-gray-500"}`),B(z,1,`px-4 py-2 rounded-full ${r(e).role==="student"?"bg-blue-100 text-blue-700 font-semibold":"text-gray-500"}`),w.disabled=r(p),A(F,r(p)?"Kayıt yapılıyor...":"Kayıt Ol")}),k("click",b,()=>l(e,r(e).role="parent")),k("click",z,()=>l(e,r(e).role="student")),u(q,()=>r(e).full_name,t=>l(e,r(e).full_name=t)),u(j,()=>r(e).phone,t=>l(e,r(e).phone=t)),u(D,()=>r(e).city,t=>l(e,r(e).city=t)),u(O,()=>r(e).zip_code,t=>l(e,r(e).zip_code=t)),u(P,()=>r(e).password,t=>l(e,r(e).password=t)),k("submit",g,te(C)),S(M,f),Q(),V()}export{De as component};
