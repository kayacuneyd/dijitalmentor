import{s as Ke,n as ze,d as c,C as Ne,m as e,D as z,a as Be,i as ge,b as t,y as O,E as Oe,o as Ue,g as p,c as n,e as C,p as M,f as se,j as f,h as o,t as ae,k as qe}from"../chunks/C8FUPpYE.js";import{S as Ae,i as je}from"../chunks/BQlu6bJd.js";import{a as He}from"../chunks/CpXfRMsN.js";import{a as Me}from"../chunks/C9u0ZRVO.js";import{g as De}from"../chunks/F1DUsJPN.js";import{p as Se}from"../chunks/DuMUUwAM.js";import{t as Pe}from"../chunks/37AeX0Ha.js";function Ve(r){let b,l;return{c(){b=o("div"),l=ae(r[1]),this.h()},l(i){b=n(i,"DIV",{class:!0});var k=C(b);l=se(k,r[1]),k.forEach(c),this.h()},h(){e(b,"class","bg-red-50 text-red-700 p-4 rounded-lg mb-6")},m(i,k){ge(i,b,k),t(b,l)},p(i,k){k&2&&Be(l,i[1])},d(i){i&&c(b)}}}function Re(r){let b,l,i,k="Kayıt Ol",u,h,_,F,S,G,T,Y,R,J,Z,s,I,P,ve="Ad Soyad",ne,E,oe,U,V,ye="Telefon Numarası",ue,w,ie,q,B,xe="Şehir",de,g,pe,A,K,Ce="Posta Kodu (PLZ)",fe,v,ce,j,N,Ee="Şifre",be,y,me,D,Q=r[2]?"Kayıt yapılıyor...":"Kayıt Ol",W,he,H,we='Zaten hesabınız var mı? <a href="/giris" class="text-blue-600 hover:underline">Giriş Yap</a>',_e,ke,d=r[1]&&Ve(r);return{c(){b=f(),l=o("div"),i=o("h1"),i.textContent=k,u=f(),h=o("div"),_=o("button"),F=ae("Veli / Öğrenci"),G=f(),T=o("button"),Y=ae("Öğretmen"),J=f(),d&&d.c(),Z=f(),s=o("form"),I=o("div"),P=o("label"),P.textContent=ve,ne=f(),E=o("input"),oe=f(),U=o("div"),V=o("label"),V.textContent=ye,ue=f(),w=o("input"),ie=f(),q=o("div"),B=o("label"),B.textContent=xe,de=f(),g=o("input"),pe=f(),A=o("div"),K=o("label"),K.textContent=Ce,fe=f(),v=o("input"),ce=f(),j=o("div"),N=o("label"),N.textContent=Ee,be=f(),y=o("input"),me=f(),D=o("button"),W=ae(Q),he=f(),H=o("p"),H.innerHTML=we,this.h()},l(a){Ue("svelte-1940nqh",document.head).forEach(c),b=p(a),l=n(a,"DIV",{class:!0});var L=C(l);i=n(L,"H1",{class:!0,"data-svelte-h":!0}),M(i)!=="svelte-y1czb7"&&(i.textContent=k),u=p(L),h=n(L,"DIV",{class:!0});var X=C(h);_=n(X,"BUTTON",{class:!0});var Te=C(_);F=se(Te,"Veli / Öğrenci"),Te.forEach(c),G=p(X),T=n(X,"BUTTON",{class:!0});var Ie=C(T);Y=se(Ie,"Öğretmen"),Ie.forEach(c),X.forEach(c),J=p(L),d&&d.l(L),Z=p(L),s=n(L,"FORM",{class:!0});var x=C(s);I=n(x,"DIV",{});var $=C(I);P=n($,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),M(P)!=="svelte-1i30ugc"&&(P.textContent=ve),ne=p($),E=n($,"INPUT",{id:!0,type:!0,class:!0}),$.forEach(c),oe=p(x),U=n(x,"DIV",{});var ee=C(U);V=n(ee,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),M(V)!=="svelte-p004s7"&&(V.textContent=ye),ue=p(ee),w=n(ee,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),ee.forEach(c),ie=p(x),q=n(x,"DIV",{});var te=C(q);B=n(te,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),M(B)!=="svelte-rk2lyx"&&(B.textContent=xe),de=p(te),g=n(te,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0}),te.forEach(c),pe=p(x),A=n(x,"DIV",{});var le=C(A);K=n(le,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),M(K)!=="svelte-1bfbz82"&&(K.textContent=Ce),fe=p(le),v=n(le,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0}),le.forEach(c),ce=p(x),j=n(x,"DIV",{});var re=C(j);N=n(re,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),M(N)!=="svelte-l1jusb"&&(N.textContent=Ee),be=p(re),y=n(re,"INPUT",{id:!0,type:!0,class:!0,minlength:!0}),re.forEach(c),me=p(x),D=n(x,"BUTTON",{type:!0,class:!0});var Le=C(D);W=se(Le,Q),Le.forEach(c),x.forEach(c),he=p(L),H=n(L,"P",{class:!0,"data-svelte-h":!0}),M(H)!=="svelte-35211r"&&(H.innerHTML=we),L.forEach(c),this.h()},h(){document.title="Kayıt Ol - DijitalMentor",e(i,"class","text-3xl font-bold mb-8 text-center"),e(_,"class",S="px-4 py-2 rounded-full "+(r[0].role==="parent"?"bg-blue-100 text-blue-700 font-semibold":"text-gray-500")),e(T,"class",R="px-4 py-2 rounded-full "+(r[0].role==="student"?"bg-blue-100 text-blue-700 font-semibold":"text-gray-500")),e(h,"class","flex justify-center gap-4 mb-8"),e(P,"class","block text-sm font-medium mb-1"),e(P,"for","register-full-name"),e(E,"id","register-full-name"),e(E,"type","text"),e(E,"class","w-full border rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"),E.required=!0,e(V,"class","block text-sm font-medium mb-1"),e(V,"for","register-phone"),e(w,"id","register-phone"),e(w,"type","tel"),e(w,"placeholder","+49..."),e(w,"class","w-full border rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"),w.required=!0,e(B,"class","block text-sm font-medium mb-1"),e(B,"for","register-city"),e(g,"id","register-city"),e(g,"type","text"),e(g,"class","w-full border rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"),g.required=!0,e(g,"placeholder","Örn: Berlin"),e(K,"class","block text-sm font-medium mb-1"),e(K,"for","register-zip"),e(v,"id","register-zip"),e(v,"type","text"),e(v,"class","w-full border rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"),v.required=!0,e(v,"placeholder","Örn: 10115"),e(N,"class","block text-sm font-medium mb-1"),e(N,"for","register-password"),e(y,"id","register-password"),e(y,"type","password"),e(y,"class","w-full border rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"),y.required=!0,e(y,"minlength","6"),e(D,"type","submit"),e(D,"class","w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50 transition"),D.disabled=r[2],e(s,"class","space-y-4"),e(H,"class","text-center mt-6 text-gray-600"),e(l,"class","container mx-auto px-4 py-12 max-w-md")},m(a,m){ge(a,b,m),ge(a,l,m),t(l,i),t(l,u),t(l,h),t(h,_),t(_,F),t(h,G),t(h,T),t(T,Y),t(l,J),d&&d.m(l,null),t(l,Z),t(l,s),t(s,I),t(I,P),t(I,ne),t(I,E),z(E,r[0].full_name),t(s,oe),t(s,U),t(U,V),t(U,ue),t(U,w),z(w,r[0].phone),t(s,ie),t(s,q),t(q,B),t(q,de),t(q,g),z(g,r[0].city),t(s,pe),t(s,A),t(A,K),t(A,fe),t(A,v),z(v,r[0].zip_code),t(s,ce),t(s,j),t(j,N),t(j,be),t(j,y),z(y,r[0].password),t(s,me),t(s,D),t(D,W),t(l,he),t(l,H),_e||(ke=[O(_,"click",r[4]),O(T,"click",r[5]),O(E,"input",r[6]),O(w,"input",r[7]),O(g,"input",r[8]),O(v,"input",r[9]),O(y,"input",r[10]),O(s,"submit",Oe(r[3]))],_e=!0)},p(a,[m]){m&1&&S!==(S="px-4 py-2 rounded-full "+(a[0].role==="parent"?"bg-blue-100 text-blue-700 font-semibold":"text-gray-500"))&&e(_,"class",S),m&1&&R!==(R="px-4 py-2 rounded-full "+(a[0].role==="student"?"bg-blue-100 text-blue-700 font-semibold":"text-gray-500"))&&e(T,"class",R),a[1]?d?d.p(a,m):(d=Ve(a),d.c(),d.m(l,Z)):d&&(d.d(1),d=null),m&1&&E.value!==a[0].full_name&&z(E,a[0].full_name),m&1&&z(w,a[0].phone),m&1&&g.value!==a[0].city&&z(g,a[0].city),m&1&&v.value!==a[0].zip_code&&z(v,a[0].zip_code),m&1&&y.value!==a[0].password&&z(y,a[0].password),m&4&&Q!==(Q=a[2]?"Kayıt yapılıyor...":"Kayıt Ol")&&Be(W,Q),m&4&&(D.disabled=a[2])},i:ze,o:ze,d(a){a&&(c(b),c(l)),d&&d.d(),_e=!1,Ne(ke)}}}function Ze(r,b,l){let i;qe(r,Se,s=>l(11,i=s));let u={full_name:"",phone:"",password:"",role:i.url.searchParams.get("role")||"parent",city:"",zip_code:""},h="",_=!1;async function F(){l(2,_=!0),l(1,h="");try{const s=await He.post("/auth/register.php",u);Me.login(s.data.user,s.data.token),Pe.success("Kayıt başarıyla oluşturuldu! Hoşgeldiniz."),u.role==="student"?De("/panel/ayarlar"):De("/panel")}catch(s){const I=s.message||"Kayıt başarısız";l(1,h=I),Pe.error(I)}finally{l(2,_=!1)}}const S=()=>l(0,u.role="parent",u),G=()=>l(0,u.role="student",u);function T(){u.full_name=this.value,l(0,u)}function Y(){u.phone=this.value,l(0,u)}function R(){u.city=this.value,l(0,u)}function J(){u.zip_code=this.value,l(0,u)}function Z(){u.password=this.value,l(0,u)}return[u,h,_,F,S,G,T,Y,R,J,Z]}class $e extends Ae{constructor(b){super(),je(this,b,Ze,Re,Ke,{})}}export{$e as component};
