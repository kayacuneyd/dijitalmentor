import{f as b,a as v,t as $e}from"../chunks/DRQhfDIo.js";import"../chunks/DBxwTJFr.js";import{c as Ze,o as er}from"../chunks/BEILL-FU.js";import{p as Le,K as Ee,b as m,m as z,M as rr,f as _e,c as a,s as t,v as Ge,r as i,g as e,a as We,t as Z,e as tr,h as u,$ as ar,n as xe,C as ir,q as lr}from"../chunks/xs6IHYAp.js";import{s as he}from"../chunks/2kSiabv9.js";import{i as y}from"../chunks/DR5YvfYR.js";import{h as sr}from"../chunks/Dca_OwJL.js";import{s as we,r as P}from"../chunks/0sRNiewY.js";import{e as B}from"../chunks/BUEFyR2Q.js";import{b as h}from"../chunks/C5zhuI-4.js";import{p as He}from"../chunks/CWmzcjye.js";import{i as qe}from"../chunks/CtUxkv_u.js";import{g as Oe}from"../chunks/bOQqAygr.js";import{a as ie}from"../chunks/DuIwGUvj.js";import{t as j}from"../chunks/CagCIhxo.js";import{g as or}from"../chunks/AYnVVvoY.js";import{p as nr}from"../chunks/CnwI_PJQ.js";import{a as dr,s as ur}from"../chunks/BqzXtDWn.js";import{a as vr}from"../chunks/DOijXAo_.js";var mr=b('<span class="px-3 py-1 bg-yellow-100 text-yellow-800 text-xs font-semibold rounded-full">Premium</span>'),cr=b('<span class="px-3 py-1 bg-green-50 text-green-700 text-xs font-semibold rounded-full">Aktif</span>'),br=b('<label class="cursor-pointer inline-flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition disabled:opacity-50"><span>ğŸ“„</span> <span> </span> <input type="file" accept="application/pdf" class="hidden"/></label>'),fr=b('<button type="button" class="inline-flex items-center gap-2 px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition"><span>ğŸ”’</span> <span>Premium gerekli</span></button>'),pr=b(`<a target="_blank" rel="noreferrer" class="text-sm font-semibold text-blue-700 underline">Mevcut CV'yi gÃ¶r</a>`),gr=b('<div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-sm text-yellow-800">Premium Ã¼yeliÄŸiniz yok veya sÃ¼resi dolmuÅŸ. CV yÃ¼klemek iÃ§in premium gerekli.</div>'),yr=b('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 backdrop-blur-sm"><div class="bg-white rounded-2xl max-w-md w-full p-6 shadow-2xl"><div class="text-center mb-6"><div class="w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4 text-3xl">â­</div> <h3 class="text-xl font-bold text-gray-900">Premium Ãœyelik Gerekli</h3> <p class="text-gray-600 mt-4 leading-relaxed">CV yÃ¼kleme Ã¶zelliÄŸi sadece premium Ã¶ÄŸretmenlere aÃ§Ä±ktÄ±r. 10â‚¬/yÄ±l karÅŸÄ±lÄ±ÄŸÄ±nda <span class="font-semibold text-gray-900">Amazon hediye kartÄ±</span> ile aktivasyon yapabilirsiniz.</p> <div class="bg-gray-50 p-4 rounded-xl mt-6 border border-gray-100"><p class="text-sm text-gray-500 mb-1">E-posta Adresi</p> <p class="text-lg font-mono font-bold text-blue-600 select-all">hediye@dijitalmentor.de</p></div></div> <button class="w-full bg-gray-900 text-white font-bold py-3 rounded-xl hover:bg-gray-800 transition">Tamam</button></div></div>'),xr=b('<div class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6 space-y-4"><div class="flex items-start justify-between"><div><h3 class="text-lg font-semibold text-gray-900">CV YÃ¼kle (Premium)</h3> <p class="text-sm text-gray-500">PDF formatÄ±nda, maksimum 5MB. Premium Ã¼yelik gerektirir.</p></div> <!></div> <div class="flex items-center gap-3"><!> <!></div> <!></div> <!>',1);function _r(le,ee){Le(ee,!1);const o=()=>dr(ie,"$authStore",V),[V,W]=ur(),S=z(),r=z();let w=nr(ee,"currentCvUrl",12,"");const F=Ze();let G=z(!1),q=z(!1);function O(){var l;return(l=e(S))!=null&&l.is_premium?e(S).premium_expires_at?new Date(e(S).premium_expires_at)>new Date:!0:!1}async function se(l){var g,$;const n=(g=l.target.files)==null?void 0:g[0];if(!n||!e(r))return;if(n.type!=="application/pdf"){j.error("Sadece PDF dosyalarÄ± kabul edilir"),l.target.value="";return}if(n.size>5*1024*1024){j.error("Dosya Ã§ok bÃ¼yÃ¼k. Maksimum 5MB olmalÄ±"),l.target.value="";return}const c=new FormData;c.append("cv",n),m(G,!0);try{const C=await vr.postForm("/upload/cv.php",c);w(($=C.data)==null?void 0:$.cv_url);const _=Oe(ie);_!=null&&_.token&&(_!=null&&_.user)&&ie.login({..._.user,cv_url:w()},_.token),j.success(C.message||"CV yÃ¼klendi"),F("uploaded",C.data)}catch(C){console.error(C),j.error(C.message||"CV yÃ¼klenemedi")}finally{m(G,!1),l.target.value=""}}Ee(()=>o(),()=>{m(S,o().user)}),Ee(()=>{},()=>{m(r,O())}),rr(),qe();var R=xr(),Y=_e(R),H=a(Y),oe=t(a(H),2);{var ne=l=>{var n=mr();v(l,n)},de=l=>{var n=cr();v(l,n)};y(oe,l=>{Ge(()=>!O())?l(ne):l(de,!1)})}i(H);var I=t(H,2),re=a(I);{var d=l=>{var n=br(),c=t(a(n),2),g=a(c,!0);i(c);var $=t(c,2);i(n),Z(()=>{he(g,e(G)?"YÃ¼kleniyor...":"CV SeÃ§"),$.disabled=e(G)}),B("change",$,se),v(l,n)},p=l=>{var n=fr();B("click",n,()=>m(q,!0)),v(l,n)};y(re,l=>{e(r)?l(d):l(p,!1)})}var A=t(re,2);{var U=l=>{var n=pr();Z(()=>we(n,"href",w())),v(l,n)};y(A,l=>{w()&&l(U)})}i(I);var K=t(I,2);{var T=l=>{var n=gr();v(l,n)};y(K,l=>{Ge(()=>!O())&&l(T)})}i(Y);var J=t(Y,2);{var N=l=>{var n=yr(),c=a(n),g=t(a(c),2);i(c),i(n),B("click",g,()=>m(q,!1)),v(l,n)};y(J,l=>{e(q)&&l(N)})}v(le,R),We(),W()}var hr=b('<img class="w-24 h-24 rounded-full object-cover border-4 border-gray-100"/>'),wr=b('<div class="w-24 h-24 rounded-full bg-gray-100 flex items-center justify-center text-2xl font-bold text-gray-600"> </div>'),kr=b('<div class="absolute inset-0 bg-black bg-opacity-50 rounded-full flex items-center justify-center"><div class="animate-spin rounded-full h-8 w-8 border-2 border-white border-t-transparent"></div></div>'),Pr=b('<div><label class="block text-sm font-medium text-gray-700 mb-1" for="settings-bio">HakkÄ±mda</label> <textarea id="settings-bio" rows="4" placeholder="Kendinizi tanÄ±tÄ±n, deneyimlerinizi ve Ã¶ÄŸretim yaklaÅŸÄ±mÄ±nÄ±zÄ± paylaÅŸÄ±n..." class="w-full border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all"></textarea></div> <div class="grid md:grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-1" for="settings-university">Ãœniversite</label> <input id="settings-university" type="text" class="w-full border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-1" for="settings-department">BÃ¶lÃ¼m</label> <input id="settings-department" type="text" class="w-full border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-1" for="settings-graduation">Mezuniyet YÄ±lÄ±</label> <input id="settings-graduation" type="number" min="2000" max="2030" class="w-full border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-1" for="settings-experience">Deneyim (YÄ±l)</label> <input id="settings-experience" type="number" min="0" class="w-full border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all"/></div></div> <div><label class="block text-sm font-medium text-gray-700 mb-1" for="settings-rate">Saatlik Ãœcret (â‚¬)</label> <input id="settings-rate" type="number" min="0" step="0.5" class="w-full border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all"/></div>',1),zr=b('<div class="bg-gradient-to-r from-yellow-50 to-orange-50 border-2 border-yellow-200 rounded-2xl p-6"><div class="flex items-start gap-4"><div class="text-4xl">â­</div> <div class="flex-1"><h3 class="text-xl font-bold text-gray-900 mb-2">Premium Ãœyelik</h3> <p class="text-gray-700 mb-4"><!></p> <button class="px-6 py-3 bg-gradient-to-r from-yellow-500 to-orange-500 text-white font-bold rounded-xl hover:from-yellow-600 hover:to-orange-600 transition shadow-lg">Premium Ãœye Ol - 10â‚¬/YÄ±l</button></div></div></div>'),jr=b('<div class="space-y-6"><div class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6"><h2 class="text-lg font-semibold text-gray-900 mb-4">Profil FotoÄŸrafÄ±</h2> <div class="flex items-center gap-6"><div class="relative"><!> <!></div> <div class="flex-1"><label class="cursor-pointer inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition"><span>ğŸ“·</span> <span>FotoÄŸraf YÃ¼kle</span> <input type="file" accept="image/*" class="hidden"/></label> <p class="text-sm text-gray-500 mt-2">JPG, PNG veya WEBP. Maksimum 2MB.</p></div></div></div> <div class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6"><h2 class="text-lg font-semibold text-gray-900 mb-4 border-b pb-2">KiÅŸisel Bilgiler</h2> <form class="space-y-4"><div class="grid md:grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-1" for="settings-full-name">Ad Soyad</label> <input id="settings-full-name" type="text" class="w-full border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-1" for="settings-email">E-posta</label> <input id="settings-email" type="email" placeholder="ornek@email.com" class="w-full border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-1" for="settings-city">Åehir</label> <input id="settings-city" type="text" class="w-full border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-1" for="settings-zip">Posta Kodu</label> <input id="settings-zip" type="text" class="w-full border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all"/></div></div> <!> <div class="flex justify-end pt-4 border-t"><button type="submit" class="px-8 py-2.5 bg-blue-600 text-white font-semibold rounded-xl shadow-lg shadow-blue-600/20 hover:bg-blue-700 hover:shadow-blue-600/30 active:scale-95 transition-all disabled:opacity-50"> </button></div></form></div> <div class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6"><h2 class="text-lg font-semibold text-gray-900 mb-4 border-b pb-2">Åifre DeÄŸiÅŸtir</h2> <form class="space-y-4"><div class="grid md:grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-1" for="settings-new-password">Yeni Åifre</label> <input id="settings-new-password" type="password" minlength="6" class="w-full border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-1" for="settings-confirm-password">Åifre Tekrar</label> <input id="settings-confirm-password" type="password" minlength="6" class="w-full border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all"/></div></div> <div class="flex justify-end"><button type="submit" class="px-6 py-2 bg-gray-900 text-white font-semibold rounded-lg hover:bg-gray-800 transition">Åifreyi GÃ¼ncelle</button></div></form></div> <!> <!></div>'),Ar=b('<div class="flex justify-center py-20"><div class="animate-spin rounded-full h-12 w-12 border-4 border-blue-100 border-t-blue-600"></div></div>'),Cr=b("<li>âœ“ Veli iletiÅŸim bilgilerine eriÅŸim</li> <li>âœ“ CV yÃ¼kleme</li> <li>âœ“ Ã–ncelikli destek</li>",1),Dr=b("<li>âœ“ Ã–ÄŸretmen WhatsApp bilgilerine eriÅŸim</li> <li>âœ“ SÄ±nÄ±rsÄ±z mesajlaÅŸma</li> <li>âœ“ Ã–ncelikli destek</li>",1),Mr=b(`<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 backdrop-blur-sm"><div class="bg-white rounded-2xl max-w-md w-full p-6 shadow-2xl transform transition-all"><div class="text-center mb-6"><div class="w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4 text-3xl">â­</div> <h3 class="text-xl font-bold text-gray-900">Premium Ãœyelik</h3> <p class="text-gray-600 mt-4 leading-relaxed">TÃ¼m premium Ã¶zelliklere 1 yÄ±l boyunca eriÅŸmek iÃ§in <span class="font-bold text-gray-900">10â‚¬ deÄŸerinde Amazon Hediye KartÄ±</span>'nÄ± aÅŸaÄŸÄ±daki e-posta adresine gÃ¶nderin.</p> <div class="bg-gray-50 p-4 rounded-xl mt-6 border border-gray-100"><p class="text-sm text-gray-500 mb-1">E-posta Adresi</p> <p class="text-lg font-mono font-bold text-blue-600 select-all">hediye@dijitalmentor.de</p></div> <div class="mt-6 text-left bg-blue-50 p-4 rounded-lg"><p class="text-sm font-semibold text-blue-900 mb-2">Premium Ã–zellikler:</p> <ul class="text-sm text-blue-800 space-y-1"><!></ul></div></div> <button class="w-full bg-gray-900 text-white font-bold py-4 rounded-xl hover:bg-gray-800 transition shadow-lg shadow-gray-200">AnlaÅŸÄ±ldÄ±, Kapat</button></div></div>`),Vr=b('<div class="min-h-screen bg-gray-50/50 py-12"><div class="container mx-auto px-4 max-w-4xl"><div class="mb-8"><h1 class="text-3xl font-bold text-gray-900">Hesap AyarlarÄ±</h1> <p class="text-gray-500 mt-2">Profil bilgilerinizi ve tercihlerinizi yÃ¶netin.</p></div> <!></div></div> <!>',1);function Qr(le,ee){Le(ee,!1);let o=z(null),V=z(!1),W=z(!1),S=z(!1),r=z({full_name:"",email:"",city:"",zip_code:"",bio:"",university:"",department:"",graduation_year:null,hourly_rate:20,experience_years:0}),w=z(""),F=z("");er(()=>{const d=Oe(ie);if(!d.isAuthenticated){or("/giris?redirect=/panel/ayarlar");return}m(o,d.user),u(r,e(r).full_name=e(o).full_name||""),u(r,e(r).email=e(o).email||""),u(r,e(r).city=e(o).city||""),u(r,e(r).zip_code=e(o).zip_code||""),u(r,e(r).bio=e(o).bio||""),u(r,e(r).university=e(o).university||""),u(r,e(r).department=e(o).department||""),u(r,e(r).graduation_year=e(o).graduation_year||null),u(r,e(r).hourly_rate=e(o).hourly_rate||20),u(r,e(r).experience_years=e(o).experience_years||0)});async function G(){m(V,!0),await new Promise(d=>setTimeout(d,1e3)),j.success("Profiliniz baÅŸarÄ±yla gÃ¼ncellendi."),m(V,!1)}async function q(d){const p=d.target.files[0];if(p){if(p.size>2*1024*1024){j.error("Dosya Ã§ok bÃ¼yÃ¼k. Maksimum 2MB olmalÄ±.");return}m(W,!0),await new Promise(A=>setTimeout(A,1e3)),u(o,e(o).avatar_url=URL.createObjectURL(p)),j.success("Profil fotoÄŸrafÄ± gÃ¼ncellendi."),m(W,!1)}}async function O(){if(!e(w)||!e(F)){j.error("LÃ¼tfen tÃ¼m alanlarÄ± doldurun.");return}if(e(w)!==e(F)){j.error("Åifreler eÅŸleÅŸmiyor.");return}if(e(w).length<6){j.error("Åifre en az 6 karakter olmalÄ±.");return}m(V,!0),await new Promise(d=>setTimeout(d,1e3)),j.success("Åifreniz baÅŸarÄ±yla gÃ¼ncellendi."),m(w,""),m(F,""),m(V,!1)}function se(d){return d?d.split(" ").map(p=>p[0]).join("").toUpperCase().substring(0,2):"U"}qe();var R=Vr();sr("1gvm5tu",d=>{tr(()=>{ar.title="Ayarlar - DijitalMentor"})});var Y=_e(R),H=a(Y),oe=t(a(H),2);{var ne=d=>{var p=jr(),A=a(p),U=t(a(A),2),K=a(U),T=a(K);{var J=s=>{var f=hr();Z(()=>{we(f,"src",e(o).avatar_url),we(f,"alt",e(o).full_name)}),v(s,f)},N=s=>{var f=wr(),x=a(f,!0);i(f),Z(D=>he(x,D),[()=>se(e(o).full_name)]),v(s,f)};y(T,s=>{e(o).avatar_url?s(J):s(N,!1)})}var l=t(T,2);{var n=s=>{var f=kr();v(s,f)};y(l,s=>{e(W)&&s(n)})}i(K);var c=t(K,2),g=a(c),$=t(a(g),4);i(g),xe(2),i(c),i(U),i(A);var C=t(A,2),_=t(a(C),2),ue=a(_),ve=a(ue),ke=t(a(ve),2);P(ke),i(ve);var me=t(ve,2),Pe=t(a(me),2);P(Pe),i(me);var ce=t(me,2),ze=t(a(ce),2);P(ze),i(ce);var je=t(ce,2),Ae=t(a(je),2);P(Ae),i(je),i(ue);var Ce=t(ue,2);{var Re=s=>{var f=Pr(),x=_e(f),D=t(a(x),2);ir(D),i(x);var E=t(x,2),Q=a(E),te=t(a(Q),2);P(te),i(Q);var X=t(Q,2),ae=t(a(X),2);P(ae),i(X);var M=t(X,2),L=t(a(M),2);P(L),i(M);var Be=t(M,2),Fe=t(a(Be),2);P(Fe),i(Be),i(E);var Ye=t(E,2),Te=t(a(Ye),2);P(Te),i(Ye),h(D,()=>e(r).bio,k=>u(r,e(r).bio=k)),h(te,()=>e(r).university,k=>u(r,e(r).university=k)),h(ae,()=>e(r).department,k=>u(r,e(r).department=k)),h(L,()=>e(r).graduation_year,k=>u(r,e(r).graduation_year=k)),h(Fe,()=>e(r).experience_years,k=>u(r,e(r).experience_years=k)),h(Te,()=>e(r).hourly_rate,k=>u(r,e(r).hourly_rate=k)),v(s,f)};y(Ce,s=>{e(o).role==="student"&&s(Re)})}var De=t(Ce,2),be=a(De),Ie=a(be,!0);i(be),i(De),i(_),i(C);var fe=t(C,2),pe=t(a(fe),2),ge=a(pe),ye=a(ge),Me=t(a(ye),2);P(Me),i(ye);var Ve=t(ye,2),Se=t(a(Ve),2);P(Se),i(Ve),i(ge);var Ue=t(ge,2),Je=a(Ue);i(Ue),i(pe),i(fe);var Ke=t(fe,2);{var Ne=s=>{{let f=lr(()=>{var x;return(x=e(o))==null?void 0:x.cv_url});_r(s,{get currentCvUrl(){return e(f)},$$events:{uploaded:x=>{var D;return m(o,{...e(o),cv_url:((D=x.detail)==null?void 0:D.cv_url)||e(o).cv_url})}}})}};y(Ke,s=>{e(o).role==="student"&&s(Ne)})}var Qe=t(Ke,2);{var Xe=s=>{var f=zr(),x=a(f),D=t(a(x),2),E=t(a(D),2),Q=a(E);{var te=M=>{var L=$e("Premium Ã¼ye olarak veli iletiÅŸim bilgilerine eriÅŸebilir ve CV yÃ¼kleyebilirsiniz.");v(M,L)},X=M=>{var L=$e("Premium Ã¼ye olarak Ã¶ÄŸretmen iletiÅŸim bilgilerine (WhatsApp) eriÅŸebilirsiniz.");v(M,L)};y(Q,M=>{e(o).role==="student"?M(te):M(X,!1)})}i(E);var ae=t(E,2);i(D),i(x),i(f),B("click",ae,()=>m(S,!0)),v(s,f)};y(Qe,s=>{e(o).is_premium||s(Xe)})}i(p),Z(()=>{be.disabled=e(V),he(Ie,e(V)?"Kaydediliyor...":"DeÄŸiÅŸiklikleri Kaydet"),Je.disabled=e(V)}),B("change",$,q),h(ke,()=>e(r).full_name,s=>u(r,e(r).full_name=s)),h(Pe,()=>e(r).email,s=>u(r,e(r).email=s)),h(ze,()=>e(r).city,s=>u(r,e(r).city=s)),h(Ae,()=>e(r).zip_code,s=>u(r,e(r).zip_code=s)),B("submit",_,He(G)),h(Me,()=>e(w),s=>m(w,s)),h(Se,()=>e(F),s=>m(F,s)),B("submit",pe,He(O)),v(d,p)},de=d=>{var p=Ar();v(d,p)};y(oe,d=>{e(o)?d(ne):d(de,!1)})}i(H),i(Y);var I=t(Y,2);{var re=d=>{var p=Mr(),A=a(p),U=a(A),K=t(a(U),8),T=t(a(K),2),J=a(T);{var N=c=>{var g=Cr();xe(4),v(c,g)},l=c=>{var g=Dr();xe(4),v(c,g)};y(J,c=>{var g;((g=e(o))==null?void 0:g.role)==="student"?c(N):c(l,!1)})}i(T),i(K),i(U);var n=t(U,2);i(A),i(p),B("click",n,()=>m(S,!1)),v(d,p)};y(I,d=>{e(S)&&d(re)})}v(le,R),We()}export{Qr as component};
