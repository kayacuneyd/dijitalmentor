import{f as v,a as i,c as z,t as Ae}from"../chunks/DRQhfDIo.js";import"../chunks/DBxwTJFr.js";import{o as Ce}from"../chunks/BEILL-FU.js";import{p as Te,a as qe,d as Ge,b as g,m as y,g as a,$ as Le,c as e,r as t,f as R,t as V,s as o,n as U}from"../chunks/xs6IHYAp.js";import{s as d}from"../chunks/2kSiabv9.js";import{i as _}from"../chunks/DR5YvfYR.js";import{h as Me}from"../chunks/Dca_OwJL.js";import{e as ze}from"../chunks/BUEFyR2Q.js";import{i as Re}from"../chunks/CtUxkv_u.js";import{s as Ve,a as W}from"../chunks/BqzXtDWn.js";import{p as Ye}from"../chunks/Cl66-DY3.js";import{a as X}from"../chunks/DOijXAo_.js";import{a as Ee}from"../chunks/DuIwGUvj.js";import{g as Z}from"../chunks/AYnVVvoY.js";var Fe=v('<div class="flex justify-center py-12"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"></div></div>'),He=v('<div class="bg-red-50 text-red-700 p-4 rounded-lg"> </div>'),Ie=v('<div class="animate-spin rounded-full h-4 w-4 border-b-2 border-white"></div> ƒ∞leti≈üim Ba≈ülatƒ±lƒ±yor...',1),Je=v('<button class="bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition shadow-lg shadow-blue-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2"><!></button>'),Ke=v('<div class="bg-gray-100 text-gray-600 px-6 py-3 rounded-lg font-semibold text-center">Sadece √∂ƒüretmenler ba≈üvurabilir</div>'),Ne=v('<a href="/giris" class="bg-gray-100 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-200 transition">Ba≈üvurmak i√ßin Giri≈ü Yap</a>'),Oe=v('<div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"><div class="p-8"><div class="flex flex-wrap gap-4 justify-between items-start mb-6"><div><div class="flex items-center gap-3 mb-2"><span class="bg-blue-100 text-blue-800 text-sm font-semibold px-3 py-1 rounded-full"> </span> <span class="text-gray-500 flex items-center gap-1"> </span></div> <h1 class="text-3xl font-bold text-gray-900"> </h1></div> <div class="text-right"><div class="text-2xl font-bold text-green-600"> </div> <div class="text-sm text-gray-500">Saatlik B√ºt√ße</div></div></div> <div class="prose max-w-none text-gray-700 mb-8"><h3 class="text-lg font-semibold text-gray-900 mb-2">Detaylar</h3> <p class="whitespace-pre-line"> </p></div> <div class="flex items-center justify-between pt-6 border-t border-gray-100"><div class="flex items-center gap-3"><div class="w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center text-gray-600 font-bold text-lg"> </div> <div><div class="font-semibold text-gray-900"> </div> <div class="text-sm text-gray-500"> </div></div></div> <!></div></div></div>'),Pe=v('<div class="container mx-auto px-4 py-8 max-w-3xl"><!></div>');function vt(ee,te){Te(te,!1);const ae=()=>W(Ye,"$page",Y),x=()=>W(Ee,"$authStore",Y),[Y,re]=Ve();let s=y(null),E=y(!0),w=y(""),b=y(!1);Ce(async()=>{try{const r=await X.get(`/requests/detail.php?id=${ae().params.id}`);g(s,r.data)}catch(r){g(w,r.message)}finally{g(E,!1)}});async function se(){if(!x().isAuthenticated){Z("/giris");return}if(x().user.role!=="student"){alert("Sadece √∂ƒüretmenler ders taleplerine ba≈üvurabilir.");return}g(b,!0);try{const r=await X.post("/messages/start.php",{other_user_id:a(s).parent_id});r.success&&Z(`/panel/mesajlar?conversation_id=${r.data.conversation_id}`)}catch(r){console.error("Conversation start error:",r),alert("Mesajla≈üma ba≈ülatƒ±lamadƒ±. L√ºtfen tekrar deneyin.")}finally{g(b,!1)}}Re();var S=Pe();Me("xpvn38",r=>{Ge(()=>{Le.title=`${(a(s)?a(s).title:"Talep Detayƒ±")??""} - Bezmidar`})});var ie=e(S);{var oe=r=>{var h=Fe();i(r,h)},de=r=>{var h=z(),le=R(h);{var ve=p=>{var m=He(),j=e(m,!0);t(m),V(()=>d(j,a(w))),i(p,m)},ne=p=>{var m=z(),j=R(m);{var pe=$=>{var k=Oe(),F=e(k),B=e(F),D=e(B),A=e(D),C=e(A),me=e(C,!0);t(C);var H=o(C,2),ce=e(H);t(H),t(A);var I=o(A,2),fe=e(I,!0);t(I),t(D);var J=o(D,2),K=e(J),ue=e(K,!0);t(K),U(2),t(J),t(B);var T=o(B,2),N=o(e(T),2),_e=e(N,!0);t(N),t(T);var O=o(T,2),q=e(O),G=e(q),ge=e(G,!0);t(G);var P=o(G,2),L=e(P),xe=e(L,!0);t(L);var Q=o(L,2),be=e(Q);t(Q),t(P),t(q);var he=o(q,2);{var ye=l=>{var c=z(),Se=R(c);{var je=f=>{var n=Je(),ke=e(n);{var Be=u=>{var M=Ie();U(),i(u,M)},De=u=>{var M=Ae("‚úâÔ∏è ƒ∞leti≈üime Ge√ß");i(u,M)};_(ke,u=>{a(b)?u(Be):u(De,!1)})}t(n),V(()=>n.disabled=a(b)),ze("click",n,se),i(f,n)},$e=f=>{var n=Ke();i(f,n)};_(Se,f=>{x().user.role==="student"?f(je):f($e,!1)})}i(l,c)},we=l=>{var c=Ne();i(l,c)};_(he,l=>{x().isAuthenticated?l(ye):l(we,!1)})}t(O),t(F),t(k),V((l,c)=>{d(me,a(s).subject_name),d(ce,`üìç ${a(s).city??""}`),d(fe,a(s).title),d(ue,a(s).budget_range),d(_e,a(s).description),d(ge,l),d(xe,a(s).parent_name),d(be,`ƒ∞lan Tarihi: ${c??""}`)},[()=>a(s).parent_name?a(s).parent_name.charAt(0):"V",()=>new Date(a(s).created_at).toLocaleDateString("tr-TR")]),i($,k)};_(j,$=>{a(s)&&$(pe)},!0)}i(p,m)};_(le,p=>{a(w)?p(ve):p(ne,!1)},!0)}i(r,h)};_(ie,r=>{a(E)?r(oe):r(de,!1)})}t(S),i(ee,S),qe(),re()}export{vt as component};
