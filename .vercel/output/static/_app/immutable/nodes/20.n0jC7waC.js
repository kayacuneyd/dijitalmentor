import{f as H,a as M}from"../chunks/DRQhfDIo.js";import"../chunks/DBxwTJFr.js";import{o as J}from"../chunks/BEILL-FU.js";import{p as N,t as q,c as i,g as e,a as P,e as Q,s as r,h as d,m as k,b as w,$ as R,B as U,r as l,C as V}from"../chunks/xs6IHYAp.js";import{s as O}from"../chunks/2kSiabv9.js";import{e as W,i as X}from"../chunks/C8azlFkc.js";import{h as Z}from"../chunks/Dca_OwJL.js";import{b as ee,r as D}from"../chunks/0sRNiewY.js";import{e as te}from"../chunks/BUEFyR2Q.js";import{b as u}from"../chunks/C5zhuI-4.js";import{p as ae}from"../chunks/CWmzcjye.js";import{i as re}from"../chunks/CtUxkv_u.js";import{g as ie}from"../chunks/bOQqAygr.js";import{a as T}from"../chunks/DOijXAo_.js";import{g as Y}from"../chunks/AYnVVvoY.js";import{a as le}from"../chunks/DuIwGUvj.js";import{t as C}from"../chunks/CagCIhxo.js";var se=H("<option> </option>"),oe=H('<div class="container mx-auto px-4 py-8 max-w-2xl"><h1 class="text-2xl font-bold mb-8">Yeni Ders Talebi Oluştur</h1> <form class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 space-y-6"><div><label class="block text-sm font-medium mb-2" for="request-subject">Ders Konusu</label> <select id="request-subject" class="w-full border rounded-lg px-4 py-2" required><option>Seçiniz</option><!></select></div> <div><label class="block text-sm font-medium mb-2" for="request-title">Başlık</label> <input id="request-title" type="text" placeholder="Örn: Lise 2 Matematik Desteği" class="w-full border rounded-lg px-4 py-2" required/></div> <div><label class="block text-sm font-medium mb-2" for="request-city">Şehir</label> <input id="request-city" type="text" placeholder="Örn: Berlin" class="w-full border rounded-lg px-4 py-2" required/></div> <div><label class="block text-sm font-medium mb-2" for="request-budget">Bütçe Aralığı (Saatlik)</label> <input id="request-budget" type="text" placeholder="Örn: 20-30€" class="w-full border rounded-lg px-4 py-2"/></div> <div><label class="block text-sm font-medium mb-2" for="request-description">Detaylı Açıklama</label> <textarea id="request-description" rows="4" placeholder="Beklentilerinizi ve öğrencinin durumunu kısaca anlatın..." class="w-full border rounded-lg px-4 py-2" required></textarea></div> <div class="flex justify-end gap-4 pt-4"><a href="/panel/taleplerim" class="px-6 py-2 text-gray-600 hover:bg-gray-50 rounded-lg transition">İptal</a> <button type="submit" class="bg-blue-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-blue-700 transition disabled:opacity-50"> </button></div></form></div>');function De(K,L){N(L,!1);let p=k([]),n=k(!1),t=k({subject_id:"",title:"",description:"",city:"",budget_range:""});J(async()=>{const{isAuthenticated:a}=ie(le);if(!a){Y("/giris?redirect=/panel/taleplerim/yeni");return}const s=await T.get("/subjects/list.php");w(p,s.data)});async function E(){w(n,!0);try{await T.post("/requests/create.php",e(t)),C.success("Ders talebiniz başarıyla oluşturuldu."),Y("/panel/taleplerim")}catch(a){C.error("Hata: "+a.message)}finally{w(n,!1)}}re();var m=oe();Z("1kf3g7",a=>{Q(()=>{R.title="Yeni Talep Oluştur - DijitalMentor"})});var c=r(i(m),2),b=i(c),v=r(i(b),2);q(()=>{e(t),U(()=>{e(p)})});var f=i(v);f.value=f.__value="";var F=r(f);W(F,1,()=>e(p),X,(a,s)=>{var o=se(),I=i(o,!0);l(o);var A={};q(()=>{O(I,e(s).name),A!==(A=e(s).id)&&(o.value=(o.__value=e(s).id)??"")}),M(a,o)}),l(v),l(b);var g=r(b,2),j=r(i(g),2);D(j),l(g);var _=r(g,2),B=r(i(_),2);D(B),l(_);var x=r(_,2),$=r(i(x),2);D($),l(x);var y=r(x,2),S=r(i(y),2);V(S),l(y);var z=r(y,2),h=r(i(z),2),G=i(h,!0);l(h),l(z),l(c),l(m),q(()=>{h.disabled=e(n),O(G,e(n)?"Oluşturuluyor...":"Talebi Yayınla")}),ee(v,()=>e(t).subject_id,a=>d(t,e(t).subject_id=a)),u(j,()=>e(t).title,a=>d(t,e(t).title=a)),u(B,()=>e(t).city,a=>d(t,e(t).city=a)),u($,()=>e(t).budget_range,a=>d(t,e(t).budget_range=a)),u(S,()=>e(t).description,a=>d(t,e(t).description=a)),te("submit",c,ae(E)),M(K,m),P()}export{De as component};
