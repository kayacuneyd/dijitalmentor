import{Z as D,as as q,ab as K,e as $,E as J,O as Z,af as z,aC as W,aD as Q,I as M,J as X,H as w,am as x,aE as aa,aF as ea,aG as ra,aH as sa,aI as ta,aJ as ia,g as ua,aK as fa,a6 as U,aL as la,aM as oa}from"./xs6IHYAp.js";import{c as ca,d as na}from"./BUEFyR2Q.js";import{i as _a,n as va,c as da}from"./2kSiabv9.js";import{c as ha,s as ba}from"./BjvWVg2m.js";import{s as ya}from"./CL5X-pXX.js";function ga(a,e){var r=void 0,s;D(()=>{r!==(r=e())&&(s&&(q(s),s=null),r&&(s=K(()=>{$(()=>r(a))})))})}function L(a,e,r=!1){if(a.multiple){if(e==null)return;if(!z(e))return W();for(var s of a.options)s.selected=e.includes(N(s));return}for(s of a.options){var u=N(s);if(Q(u,e)){s.selected=!0;return}}(!r||e!==void 0)&&(a.selectedIndex=-1)}function R(a){var e=new MutationObserver(()=>{L(a,a.__value)});e.observe(a,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Z(()=>{e.disconnect()})}function wa(a,e,r=e){var s=new WeakSet,u=!0;J(a,"change",_=>{var v=_?"[selected]":":checked",d;if(a.multiple)d=[].map.call(a.querySelectorAll(v),N);else{var h=a.querySelector(v)??a.querySelector("option:not([disabled])");d=h&&N(h)}r(d),M!==null&&s.add(M)}),$(()=>{var _=e();if(a===document.activeElement){var v=X??M;if(s.has(v))return}if(L(a,_,u),u&&_===void 0){var d=a.querySelector(":checked");d!==null&&(_=N(d),r(_))}a.__value=_,u=!1}),R(a)}function N(a){return"__value"in a?a.__value:a.value}const E=Symbol("class"),I=Symbol("style"),Y=Symbol("is custom element"),j=Symbol("is html");function Aa(a){if(w){var e=!1,r=()=>{if(!e){if(e=!0,a.hasAttribute("value")){var s=a.value;O(a,"value",null),a.value=s}if(a.hasAttribute("checked")){var u=a.checked;O(a,"checked",null),a.checked=u}}};a.__on_r=r,x(r),aa()}}function Sa(a,e){e?a.hasAttribute("selected")||a.setAttribute("selected",""):a.removeAttribute("selected")}function O(a,e,r,s){var u=m(a);w&&(u[e]=a.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&a.nodeName==="LINK")||u[e]!==(u[e]=r)&&(e==="loading"&&(a[ea]=r),r==null?a.removeAttribute(e):typeof r!="string"&&B(a).includes(e)?a[e]=r:a.setAttribute(e,r))}function ka(a,e,r,s,u=!1,_=!1){if(w&&u&&a.tagName==="INPUT"){var v=a,d=v.type==="checkbox"?"defaultChecked":"defaultValue";d in r||Aa(v)}var h=m(a),b=h[Y],g=!h[j];let S=w&&b;S&&U(!1);var f=e||{},k=a.tagName==="OPTION";for(var y in e)y in r||(r[y]=null);r.class?r.class=ha(r.class):r[E]&&(r.class=null),r[I]&&(r.style??(r.style=null));var T=B(a);for(const t in r){let i=r[t];if(k&&t==="value"&&i==null){a.value=a.__value="",f[t]=i;continue}if(t==="class"){var p=a.namespaceURI==="http://www.w3.org/1999/xhtml";ba(a,p,i,s,e==null?void 0:e[E],r[E]),f[t]=i,f[E]=r[E];continue}if(t==="style"){ya(a,i,e==null?void 0:e[I],r[I]),f[t]=i,f[I]=r[I];continue}var c=f[t];if(!(i===c&&!(i===void 0&&a.hasAttribute(t)))){f[t]=i;var H=t[0]+t[1];if(H!=="$$")if(H==="on"){const n={},A="$$"+t;let l=t.slice(2);var C=da(l);if(_a(l)&&(l=l.slice(0,-7),n.capture=!0),!C&&c){if(i!=null)continue;a.removeEventListener(l,f[A],n),f[A]=null}if(i!=null)if(C)a[`__${l}`]=i,na([l]);else{let F=function(G){f[t].call(this,G)};f[A]=ca(l,a,F,n)}else C&&(a[`__${l}`]=void 0)}else if(t==="style")O(a,t,i);else if(t==="autofocus")la(a,!!i);else if(!b&&(t==="__value"||t==="value"&&i!=null))a.value=a.__value=i;else if(t==="selected"&&k)Sa(a,i);else{var o=t;g||(o=va(o));var P=o==="defaultValue"||o==="defaultChecked";if(i==null&&!b&&!P)if(h[t]=null,o==="value"||o==="checked"){let n=a;const A=e===void 0;if(o==="value"){let l=n.defaultValue;n.removeAttribute(o),n.defaultValue=l,n.value=n.__value=A?l:null}else{let l=n.defaultChecked;n.removeAttribute(o),n.defaultChecked=l,n.checked=A?l:!1}}else a.removeAttribute(t);else P||T.includes(o)&&(b||typeof i!="string")?(a[o]=i,o in h&&(h[o]=oa)):typeof i!="function"&&O(a,o,i)}}}return S&&U(!0),f}function La(a,e,r=[],s=[],u=[],_,v=!1,d=!1){ia(u,r,s,h=>{var b=void 0,g={},S=a.nodeName==="SELECT",f=!1;if(D(()=>{var y=e(...h.map(ua)),T=ka(a,b,y,_,v,d);f&&S&&"value"in y&&L(a,y.value);for(let c of Object.getOwnPropertySymbols(g))y[c]||q(g[c]);for(let c of Object.getOwnPropertySymbols(y)){var p=y[c];c.description===fa&&(!b||p!==b[c])&&(g[c]&&q(g[c]),g[c]=K(()=>ga(a,()=>p))),T[c]=p}b=T}),S){var k=a;$(()=>{L(k,b.value,!0),R(k)})}f=!0})}function m(a){return a.__attributes??(a.__attributes={[Y]:a.nodeName.includes("-"),[j]:a.namespaceURI===ra})}var V=new Map;function B(a){var e=a.getAttribute("is")||a.nodeName,r=V.get(e);if(r)return r;V.set(e,r=[]);for(var s,u=a,_=Element.prototype;_!==u;){s=ta(u);for(var v in s)s[v].set&&r.push(v);u=sa(u)}return r}export{La as a,wa as b,Aa as r,O as s};
